<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>storage</title>
</head>
<body>

<h2>Storage示例</h2>

<input type="text" id="input" />

<!--定义使用local Storage保存数据的复选框-->
使用local Storage保存:<input type="checkbox" id="local" />
<div id="show"></div>
<input type="button" value="保存数据" onclick="saveStorage('input');" />
<input type="button" value="读取数据" onclick="loadStorage('show');" />

<script type="text/javascript">

    var saveStorage = function (id)
    {
//      如果勾选啦复选框,则使用local Storage 保存数据
//        否则使用session Storage保存数据
        var checked = document.getElementById("local").checked;
        var storage = checked ? localStorage : sessionStorage;
        var target = document.getElementById(id);
        storage.setItem("message",target.value);
    }

    var loadStorage = function(id)
    {
//        如果勾选啦复选框,则使用Local Storage保存数据
//        否则使用Seeeion Storage保存数据
        var checked = document.getElementById("local").checked;
        var storage = checked?localStorage:sessionStorage;
        var target = document.getElementById(id);
//       读取数据
        target.innerHTML = storage.getItem("message");



    }

</script>

</body>
</html>